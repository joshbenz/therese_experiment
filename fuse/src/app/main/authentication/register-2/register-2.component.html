<ng-container *ngIf="!signupSuccess">
    <div id="register" class="inner-scroll" fxLayout="row" fxLayoutAlign="start">

        <div id="register-intro" fxFlex fxHide fxShow.gt-xs>

            <div class="logo" [@animate]="{value:'*',params:{scale:'0.2'}}">
                <img src="assets/images/logos/logo.png">
            </div>

            <div class="title" [@animate]="{value:'*',params:{delay:'50ms',y:'25px'}}">
                Welcome to the CA-782!
            </div>

            <!-- <div class="description" [@animate]="{value:'*',params:{delay:'100ms',y:'25px'}}">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus ullamcorper nisl erat,
                vel convallis elit fermentum pellentesque. Sed mollis velit facilisis facilisis viverra.
            </div> -->

        </div>

        <div id="register-form-wrapper" fusePerfectScrollbar [@animate]="{value:'*',params:{delay:'300ms',x:'100%'}}">

            <div id="register-form">

                <div class="logo" fxHide.gt-xs>
                    <img src="assets/images/logos/logo.png">
                </div>

                <div class="title">CREATE AN ACCOUNT</div>

                <form name="registerForm" [formGroup]="registerForm" novalidate>

                    <!-- <mat-form-field>
                        <input matInput placeholder="Name" formControlName="name">
                        <mat-error>
                            Name is required
                        </mat-error>
                    </mat-form-field> -->

                    <table cellspacing="0">
                        <tr>
                            <td>
                                <mat-form-field class="half-width">
                                    <input matInput placeholder="First name" formControlName="firstName">
                                    <mat-error>
                                        First name is required
                                    </mat-error>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field class="half-width">
                                    <input matInput placeholder="Last name" formControlName="lastName">
                                    <mat-error>
                                        Last name is required
                                    </mat-error>
                                </mat-form-field>
                            </td>
                        </tr>
                    </table>

                    <mat-form-field>
                        <mat-select placeholder="Rank" formControlName="rank">
                            <mat-option *ngFor="let rank of ranks" [value]="rank.value">
                                {{rank.viewValue}}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>

                    <table cellspacing="0">
                        <tr>
                            <td>
                                <mat-form-field class="half-width">
                                    <mat-select placeholder="Flight" formControlName="flight">
                                        <mat-option *ngFor="let flight of flights" [value]="flight.value">
                                            {{flight.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                            <td>
                                <mat-form-field class="half-width">
                                    <mat-select placeholder="Team" formControlName="team">
                                        <mat-option *ngFor="let team of teams" [value]="team.value">
                                            {{team.viewValue}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </td>
                        </tr>
                    </table>

                    <mat-form-field>
                        <input matInput placeholder="Email" formControlName="email">
                        <mat-error *ngIf="registerForm.get('email').hasError('required')">
                            Email is required
                        </mat-error>
                        <mat-error *ngIf="registerForm.get('email').hasError('email')">
                            Please enter a valid email address
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field>
                        <input matInput placeholder="Phone Number" formControlName="phone">
                        <mat-error *ngIf="registerForm.get('phone').hasError('required')">
                            Phone is required
                        </mat-error>

                    </mat-form-field>

                    <mat-form-field>
                        <input matInput type="password" placeholder="Password" formControlName="password">
                        <mat-error>
                            Password is required
                        </mat-error>
                    </mat-form-field>

                    <mat-form-field>
                        <input matInput type="password" placeholder="Password (Confirm)" formControlName="passwordConfirm">
                        <mat-error *ngIf="registerForm.get('passwordConfirm').hasError('required')">
                            Password confirmation is required
                        </mat-error>
                        <mat-error *ngIf="!registerForm.get('passwordConfirm').hasError('required') &&
                                        registerForm.get('passwordConfirm').hasError('passwordsNotMatching')">
                            Passwords must match
                        </mat-error>
                    </mat-form-field>

                    <div class="terms" fxLayout="row" fxLayoutAlign="center center">
                        <mat-checkbox name="terms" aria-label="Accept" required>
                            <span>I will uphold the integrity of my corps</span>
                        </mat-checkbox>
                        <!-- <a href="#">terms and conditions</a> -->
                    </div>

                    <button *ngIf="!submitted; else progress" mat-raised-button color="accent" class="submit-button" aria-label="CREATE AN ACCOUNT"
                        [disabled]="registerForm.invalid" (click)="submitted=!submitted; onSubmit()">
                        CREATE AN ACCOUNT
                    </button>

                    <ng-template #progress>Please Wait...<mat-spinner 
                        [color]="warn"
                        [diameter]="20"></mat-spinner>
                    </ng-template>

                </form>

                <div class="register" fxLayout="column" fxLayoutAlign="center center">
                    <span class="text">Already have an account?</span>
                    <a class="link" [routerLink]="'../login'">Login</a>
                </div>
            </div>
        </div>
    </div>
</ng-container>
<ng-container *ngIf="signupSuccess">
    <div id="mail-confirm" fxLayout="column">

        <div id="mail-confirm-form-wrapper" fxLayout="column" fxLayoutAlign="center center">

            <div id="mail-confirm-form" [@animate]="{value:'*',params:{duration:'300ms',y:'100px'}}">

                <div class="logo">
                    <mat-icon class="mat-accent s-96">email</mat-icon>
                </div>

                <div class="title">Confirm your email address!</div>

                <div class="subtitle">
                    <p>
                        A confirmation e-mail has been sent to <b>{{tempEmail}}</b>.
                    </p>
                    <p>
                        Check your inbox and click on the "Confirm my email" link to confirm your email address.
                    </p>
                </div>

                <div class="message">
                    <a class="link" [routerLink]="'../login'">Go back to login page</a>
                </div>

            </div>

        </div>

    </div>
</ng-container>